<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: NewRelicApi</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">NewRelicApi</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/vendor/plugins/newrelic_rpm/lib/new_relic_api_rb.html">
                vendor/plugins/newrelic_rpm/lib/new_relic_api.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h2>REST API Helpers</h2>
<p>
Ruby lib for working with the New Relic API&#8216;s XML interface. Requires
<a href="Rails.html">Rails</a> 2.0 or later to be loaded.
</p>
<p>
Can also be used as a script using script/runner
</p>
<p>
Authentication is handled using your agent license key or HTTP Basic
Authentication. To <a href="NewRelicApi.html#M001633">authenticate</a>
using your license key your newrelic.yml configuration file must be in your
application config directory and contain your license key. The New Relic
account associated with the license key must allow api access. Log into
RPM, click <a href="NewRelicApi/Account.html">Account</a> at the top of the
page and check the &quot;Make my account data accessible&quot; checkbox.
</p>
<p>
Basic authentication uses your site credentials to <a
href="NewRelicApi.html#M001633">authenticate</a>.
</p>
<pre>
  # To authenticate using basic authentication, make this call with your username and password:
  NewRelicApi.authenticate('user@example.com', 'test')
</pre>
<p>
This API does not have any agent dependencies. It can be used independent
of the agent by copying it into your application.
</p>
<h2>Examples</h2>
<pre>
  # Fetching the list of applications for an account
  NewRelicApi::Account.find(:first).applications

  # Fetching the health values for all account applications
  NewRelicApi::Account.application_health

  # Fetching the health values for an application
  NewRelicApi::Account.find(:first).applications.first.threshold_values

  # Finding an application by name
  NewRelicApi::Account.find(:first).applications(:params =&gt; {:conditions =&gt; {:name =&gt; 'My App'}})
</pre>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M001633">authenticate</a>&nbsp;&nbsp;
      <a href="#M001634">reset!</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">

    <div id="class-list">
      <h3 class="section-bar">Classes and Modules</h3>

      Class <a href="NewRelicApi/Account.html" class="link">NewRelicApi::Account</a><br />
Class <a href="NewRelicApi/Application.html" class="link">NewRelicApi::Application</a><br />
Class <a href="NewRelicApi/Deployment.html" class="link">NewRelicApi::Deployment</a><br />
Class <a href="NewRelicApi/Subscription.html" class="link">NewRelicApi::Subscription</a><br />
Class <a href="NewRelicApi/ThresholdValue.html" class="link">NewRelicApi::ThresholdValue</a><br />
Class <a href="NewRelicApi/User.html" class="link">NewRelicApi::User</a><br />

    </div>




    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">email</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">host</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">license_key</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">password</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">port</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ssl</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M001633" class="method-detail">
        <a name="M001633"></a>

        <div class="method-heading">
          <a href="#M001633" class="method-signature">
          <span class="method-name">authenticate</span><span class="method-args">(email, password)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sets up basic authentication credentials for all the resources. This is not
necessary if you are using agent license key authentication.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M001633-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M001633-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/newrelic_rpm/lib/new_relic_api.rb, line 78</span>
78:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">authenticate</span>(<span class="ruby-identifier">email</span>, <span class="ruby-identifier">password</span>)
79:       <span class="ruby-ivar">@password</span> = <span class="ruby-identifier">password</span>
80:       <span class="ruby-ivar">@email</span>    = <span class="ruby-identifier">email</span>
81:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M001634" class="method-detail">
        <a name="M001634"></a>

        <div class="method-heading">
          <a href="#M001634" class="method-signature">
          <span class="method-name">reset!</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Resets the base path of all resources. This should be called when
overridding the newrelic.yml settings using the ssl, host or port
accessors.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M001634-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M001634-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/newrelic_rpm/lib/new_relic_api.rb, line 85</span>
85:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reset!</span>
86:       <span class="ruby-ivar">@classes</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">klass</span><span class="ruby-operator">|</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">reset!</span>} <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@classes</span>
87:       <span class="ruby-constant">NewRelicApi</span><span class="ruby-operator">::</span><span class="ruby-constant">Account</span>.<span class="ruby-identifier">site_url</span>
88:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>